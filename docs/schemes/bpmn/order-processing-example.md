# Пример BPMN диаграммы: Обработка заказа клиента

## Описание
Этот документ содержит пример BPMN диаграммы, созданной с использованием расширения BPMN Sketch Miner для Cursor IDE. Диаграмма демонстрирует процесс обработки заказа клиента в интернет-магазине.

## Порядок формирования записи в файле

### Структура файла BPMN диаграммы
1. **Заголовок** - название диаграммы и краткое описание
2. **Описание процесса** - детальное описание бизнес-процесса
3. **BPMN код** - синтаксис BPMN Sketch Miner
4. **Пояснения** - комментарии к элементам диаграммы
5. **Инструкции по использованию** - как работать с расширением

### Правила оформления
- Используйте блок кода с указанием языка `bpmn`
- Добавляйте комментарии к сложным элементам
- Группируйте связанные задачи в пулы (pools)
- Используйте понятные названия для событий и задач

## Пример диаграммы

### Описание процесса
Процесс обработки заказа клиента включает следующие этапы:
1. Клиент размещает заказ
2. Система проверяет наличие товара
3. Если товар есть - подтверждается заказ
4. Если товара нет - отправляется уведомление о недоступности
5. При подтверждении заказа происходит оплата
6. После оплаты товар отправляется клиенту
7. Клиент получает товар и подтверждает получение

### BPMN код

```bpmn
@startuml
!theme plain
skinparam backgroundColor #FFFFFF
skinparam activity {
    BackgroundColor #E1F5FE
    BorderColor #0277BD
    FontColor #000000
}
skinparam startColor #4CAF50
skinparam endColor #F44336
skinparam decisionColor #FF9800

title Обработка заказа клиента

start
:Клиент размещает заказ;

if (Товар в наличии?) then (да)
    :Подтвердить заказ;
    :Оплата заказа;
    if (Оплата прошла?) then (да)
        :Отправить товар клиенту;
        :Клиент получает товар;
        :Клиент подтверждает получение;
        stop
    else (нет)
        :Отменить заказ;
        :Уведомить клиента об отмене;
        stop
    endif
else (нет)
    :Отправить уведомление о недоступности;
    :Предложить альтернативы;
    if (Клиент выбрал альтернативу?) then (да)
        :Обновить заказ;
        :Подтвердить заказ;
        :Оплата заказа;
        if (Оплата прошла?) then (да)
            :Отправить товар клиенту;
            :Клиент получает товар;
            :Клиент подтверждает получение;
            stop
        else (нет)
            :Отменить заказ;
            :Уведомить клиента об отмене;
            stop
        endif
    else (нет)
        :Отменить заказ;
        :Уведомить клиента об отмене;
        stop
    endif
endif

@enduml
```

### Пояснения к элементам диаграммы

#### События
- **start** - начальное событие процесса
- **stop** - конечные события процесса

#### Задачи (Activities)
- **Клиент размещает заказ** - основная задача инициации процесса
- **Подтвердить заказ** - задача подтверждения заказа системой
- **Оплата заказа** - задача обработки платежа
- **Отправить товар клиенту** - задача логистики
- **Клиент получает товар** - задача доставки
- **Клиент подтверждает получение** - задача подтверждения доставки

#### Шлюзы (Gateways)
- **Товар в наличии?** - исключающий шлюз для проверки наличия
- **Оплата прошла?** - исключающий шлюз для проверки платежа
- **Клиент выбрал альтернативу?** - исключающий шлюз для выбора альтернативы

#### Потоки (Flows)
- Основные потоки показаны стрелками
- Условия на потоках указаны в скобках

## Инструкции по использованию BPMN Sketch Miner

### Установка расширения
1. Откройте Cursor IDE
2. Перейдите в раздел Extensions (Ctrl+Shift+X)
3. Найдите "BPMN Sketch Miner"
4. Установите расширение

### Создание новой диаграммы
1. Создайте новый файл с расширением `.bpmn` или `.puml`
2. Начните с `@startuml` и завершите `@enduml`
3. Используйте синтаксис PlantUML для BPMN

### Основные элементы синтаксиса

#### События
```bpmn
start                    # Начальное событие
stop                     # Конечное событие
:Событие;               # Промежуточное событие
```

#### Задачи
```bpmn
:Название задачи;        # Простая задача
:Задача с описанием;     # Задача с детальным описанием
```

#### Шлюзы
```bpmn
if (Условие?) then (да)
    :Действие при да;
else (нет)
    :Действие при нет;
endif
```

#### Потоки
```bpmn
:Задача 1;
:Задача 2;              # Автоматический переход
:Задача 3;
```

### Настройка внешнего вида
```bpmn
!theme plain             # Тема оформления
skinparam backgroundColor #FFFFFF  # Цвет фона
skinparam activity {
    BackgroundColor #E1F5FE        # Цвет фона задач
    BorderColor #0277BD            # Цвет границ
    FontColor #000000              # Цвет текста
}
```

### Просмотр диаграммы
1. Откройте файл с BPMN кодом
2. Нажмите Ctrl+Shift+P
3. Выберите "Show BPMN"
4. Диаграмма откроется в отдельном окне

### Экспорт диаграммы
1. В окне предварительного просмотра
2. Нажмите правой кнопкой мыши
3. Выберите "Export as PNG/SVG/PDF"

## Дополнительные примеры

### Простой процесс
```bpmn
@startuml
start
:Начальная задача;
:Промежуточная задача;
:Конечная задача;
stop
@enduml
```

### Процесс с условиями
```bpmn
@startuml
start
:Задача 1;
if (Условие?) then (да)
    :Задача 2;
else (нет)
    :Задача 3;
endif
:Задача 4;
stop
@enduml
```

### Процесс с циклами
```bpmn
@startuml
start
repeat
    :Повторяемая задача;
    if (Продолжить?) then (да)
        :Следующая итерация;
    else (нет)
        break
    endif
repeat while
:Финальная задача;
stop
@enduml
```

## Заключение

BPMN Sketch Miner - это мощный инструмент для создания бизнес-процессов в текстовом формате. Он позволяет:
- Быстро создавать диаграммы процессов
- Легко редактировать и версионировать диаграммы
- Интегрироваться с системами контроля версий
- Автоматически генерировать документацию

Используйте этот пример как шаблон для создания собственных BPMN диаграмм в проекте.
